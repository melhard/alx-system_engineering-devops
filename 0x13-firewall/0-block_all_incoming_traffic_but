#!/usr/bin/env bash
# Configure UFW to allow only specific ports on web-01

# Update package list and install UFW
sudo apt-get update
sudo apt-get install -y ufw

# Set UFW default policies
sudo ufw default deny incoming
sudo ufw default allow outgoing

# Allow necessary ports
sudo ufw allow 22/tcp   # SSH
sudo ufw allow 80/tcp   # HTTP
sudo ufw allow 443/tcp  # HTTPS

# Enable UFW with auto-confirmation
echo "y" | sudo ufw enable

# Show the final UFW status
sudo ufw status verbose
